=================================================================
Downloading newest contracts data set from finances.worldbank.org.
=================================================================
=================================================================
Cleaning contracts data set
=================================================================
=================================================================
Resolving entities in contracts data set.
=================================================================
=================================================================
Loading contracts data set into database.
=================================================================
psql:droptable.sql:1: ERROR:  table "latest_contract_web_download_cleaned_resolved" does not exist
psql:copydata.sql:1: ERROR:  relation "latest_contract_web_download_cleaned_resolved" does not exist
=================================================================
Loading contracts data set into database.
=================================================================
=================================================================
Cleaning projects data set
=================================================================
=================================================================
Loading projects data set
=================================================================
psql:droptable.sql:1: ERROR:  table "project_data" does not exist
psql:copydata.sql:1: ERROR:  relation "project_data" does not exist
=================================================================
joining project and contract data
=================================================================
psql:droptable.sql:1: ERROR:  table "contracts_wprojects" does not exist
psql:dropcolumn.sql:1: ERROR:  relation "latest_contract_web_download_cleaned_resolved" does not exist
psql:dropcolumn.sql:1: ERROR:  relation "project_data" does not exist
psql:dropcolumn.sql:1: ERROR:  relation "project_data" does not exist
psql:dropcolumn.sql:1: ERROR:  relation "project_data" does not exist
psql:joinprojectdata.sql:1: ERROR:  relation "latest_contract_web_download_cleaned_resolved" does not exist
LINE 1: CREATE TABLE contracts_wprojects AS SELECT * FROM latest_con...
                                                          ^
=================================================================
Generating contract features
=================================================================
=================================================================
labeleing data
=================================================================
csv
Index([u'Complaint No', u'Date Complaint Opened', u'Complaint Status',
       u'Case Number', u'Lead Investigator', u'Date Case Opened', u'VPU',
       u'Country', u'Major Sector', u'Project Number', u'Project Name',
       u'Project Amount', u'Concept Review Date', u'Begin Preparation Date',
       u'Decision Meeting Date', u'Begin Appraisal Date',
       u'Bank Approval Date', u'Signing Date', u'Effectiveness Date',
       u'Approval Date', u'Closing Date', u'WB ID',
       u'Borrower Contract Number', u'Contract Name', u'Contract Amount',
       u'Supplier', u'Procurement Type Description', u'Procurement Method ID',
       u'No Objection Date', u'Contract Sign-off Date', u'CaseOutcome',
       u'SubjectName', u'Allegation Category', u'Allegation Type',
       u'Allegation OutCome'],
      dtype='object')
Index([u'Allegation Category', u'Allegation OutCome', u'Allegation Type',
       u'Approval Date', u'Bank Approval Date', u'Begin Appraisal Date',
       u'Begin Preparation Date', u'Borrower Contract Number', u'Case Number',
       u'CaseOutcome', u'Closing Date', u'Complaint No', u'Complaint Status',
       u'Concept Review Date', u'Contract Amount', u'Contract Name',
       u'Contract Sign-off Date', u'Country', u'Date Case Opened',
       u'Date Complaint Opened', u'Decision Meeting Date',
       u'Effectiveness Date', u'Lead Investigator', u'Major Sector',
       u'No Objection Date', u'Procurement Method ID',
       u'Procurement Type Description', u'Project Amount', u'Project Name',
       u'Project Number', u'Signing Date', u'SubjectName', u'Supplier', u'VPU',
       u'WB ID'],
      dtype='object')
Index([u'allegation_category', u'allegation_outcome', u'allegation_type',
       u'approval_date', u'bank_approval_date', u'begin_appraisal_date',
       u'begin_preparation_date', u'borrower_contract_number', u'case_number',
       u'caseoutcome', u'closing_date', u'complaint_no', u'complaint_status',
       u'concept_review_date', u'contract_amount', u'contract_name',
       u'contract_sign-off_date', u'country', u'date_case_opened',
       u'date_complaint_opened', u'decision_meeting_date',
       u'effectiveness_date', u'lead_investigator', u'major_sector',
       u'no_objection_date', u'procurement_method_id',
       u'procurement_type_description', u'project_amount', u'project_name',
       u'project_number', u'signing_date', u'subjectname', u'supplier', u'vpu',
       u'wb_id'],
      dtype='object')
3944
=================================================================
merging contracts, features labels
=================================================================
contracts shape: 
(151803, 48)
labels shape: 
(3959, 36)
Contracts:  151803
Labels:  3959
Num with labels:  3879
num unique wbid labels: 679
num unique contracts: 101851
labels shape: 
(1305, 4)
contracts shape: 
(151803, 48)
merged shape: 
(982, 52)
=================================================================
Loading labeled feature gen 1 data set
=================================================================
=================================================================
generating supplier features for allegations
=================================================================
